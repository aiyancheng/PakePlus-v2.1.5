<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®¢æˆ·ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow: hidden;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background-color: #f5f5f5;
        }

        .container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 1920px; /* 27å¯¸å±å¹•æœ€å¤§å®½åº¦ */
            margin: 0 auto; /* å±…ä¸­æ˜¾ç¤º */
        }

        /* é¦–é¡µæ ·å¼ */
        #index-page {
            display: none;
            flex: 1;
            flex-direction: column;
            padding: 20px;
            overflow: auto;
        }

        #index-page.active {
            display: flex;
        }

        .page-title {
            text-align: center;
            font-size: 28px;
            margin-bottom: 30px;
            color: #333;
            padding: 10px 0;
        }

        .stores-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            flex: 1;
            padding: 0 20px 20px 20px;
            overflow-y: auto;
            max-width: 1400px; /* é™åˆ¶æœ€å¤§å®½åº¦ */
            margin: 0 auto; /* å±…ä¸­ */
        }

        .store-btn {
            padding: 24px 20px;
            background-color: #e0e0e0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-weight: 500;
        }

        .store-btn:hover {
            background-color: #c0c0c0;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .footer {
            text-align: center;
            padding: 20px;
            background-color: #f9f9f9;
            border-top: 1px solid #ddd;
        }

        .footer-btn {
            padding: 12px 25px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .footer-btn:hover {
            background-color: #005cbf;
        }

        /* è¯¦æƒ…é¡µæ ·å¼ */
        #detail-page {
            display: none;
            flex: 1;
            flex-direction: column;
        }

        #detail-page.active {
            display: flex;
        }

        .detail-header {
            text-align: center;
            font-size: 24px;
            padding: 15px 20px;
            color: #333;
            background-color: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            flex-shrink: 0;
        }

        .detail-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .sidebar {
            width: 280px;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
        }

        .sidebar.collapsed {
            width: 60px;
        }

        .sidebar-title {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin: 15px 0;
            color: #333;
            padding-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
        }

        .collapsed .sidebar-title {
            display: none;
        }

        .sidebar-nav {
            flex: 1;
            overflow-y: auto;
            padding: 10px 0;
        }

        .collapsed .sidebar-nav {
            padding: 10px 0;
        }

        .sidebar-btn {
            display: block;
            width: 100%;
            padding: 16px;
            background-color: #e9ecef;
            border: none;
            border-left: 4px solid transparent;
            cursor: pointer;
            font-size: 16px;
            text-align: left;
            transition: all 0.3s;
            margin-bottom: 5px;
        }

        .collapsed .sidebar-btn {
            padding: 16px 5px;
            text-align: center;
            font-size: 12px;
        }

        .sidebar-btn:hover {
            background-color: #dcdcdc;
        }

        .sidebar-btn.active {
            background-color: #007bff;
            color: white;
            border-left-color: #005cbf;
        }

        .collapsed .sidebar-btn.active {
            border-left-color: #007bff;
        }

        .sidebar-btn span.text {
            display: inline-block;
        }

        .collapsed .sidebar-btn span.text {
            display: none;
        }

        .sidebar-btn span.icon {
            display: inline-block;
            width: 20px;
            text-align: center;
        }

        .content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .document-frame {
            flex: 1;
            width: 100%;
            border: none;
            min-height: 0;
        }

        .error-message {
            flex: 1;
            padding: 30px;
            text-align: center;
            color: #d9534f;
            font-size: 18px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .link-button {
            display: inline-block;
            padding: 12px 25px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        .link-button:hover {
            background-color: #005cbf;
        }

        .hidden {
            display: none;
        }
        
        /* è¿”å›ä¸»é¡µé“¾æ¥æ ·å¼ */
        .back-to-home {
            display: block;
            width: calc(100% - 4px);
            padding: 18px;
            background-color: #e6e6e6;
            color: #333;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            margin: 2px;
            text-align: center;
            text-decoration: none;
        }
        
        .back-to-home:hover {
            background-color: #c0c0c0;
        }

        .toggle-sidebar-btn {
            position: absolute;
            top: 20px;
            right: -30px;
            width: 30px;
            height: 40px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .toggle-sidebar-btn:hover {
            background-color: #005cbf;
        }
        
        /* åŠ è½½æŒ‡ç¤ºå™¨ */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            font-size: 18px;
            color: #666;
        }
        
        /* é’ˆå¯¹ç”µè„‘ç«¯çš„ä¼˜åŒ– */
        @media (min-width: 1024px) and (max-width: 1920px) {
            .stores-container {
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;
                max-width: 1200px;
            }
            
            .store-btn {
                padding: 24px 20px;
                font-size: 18px;
            }
            
            .sidebar {
                width: 260px;
            }
            
            .sidebar.collapsed {
                width: 60px;
            }
        }
        
        /* é’ˆå¯¹å¤§å±å¹•çš„ä¼˜åŒ– */
        @media (min-width: 1600px) and (max-width: 1920px) {
            .stores-container {
                grid-template-columns: repeat(5, 1fr);
                max-width: 1500px;
            }
            
            .sidebar {
                width: 300px;
            }
        }
        
        /* é’ˆå¯¹å°å±å¹•ç”µè„‘çš„ä¼˜åŒ– */
        @media (min-width: 1024px) and (max-width: 1366px) {
            .stores-container {
                grid-template-columns: repeat(3, 1fr);
                max-width: 1000px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é¦–é¡µ -->
        <div id="index-page" class="active">
            <h1 class="page-title">å®¢æˆ·ç®¡ç†</h1>
            <div class="stores-container">
                <button class="store-btn" data-store="å¾å®¶äº•åº—">å¾å®¶äº•åº—</button>
                <button class="store-btn" data-store="é»„å¤å±±åº—">é»„å¤å±±åº—</button>
                <button class="store-btn" data-store="çœ¼ç§‘è¯Šæ‰€åº—">çœ¼ç§‘è¯Šæ‰€åº—</button>
                <button class="store-btn" data-store="æ—¶ä»£æ—ºè§’åº—">æ—¶ä»£æ—ºè§’åº—</button>
                <button class="store-btn" data-store="ä¸œå±±æ™¯åŒºåº—">ä¸œå±±æ™¯åŒºåº—</button>
                <button class="store-btn" data-store="æ˜¥å¤©å¹¿åœºåº—">æ˜¥å¤©å¹¿åœºåº—</button>
                <button class="store-btn" data-store="è‹é€šå›½é™…åº—">è‹é€šå›½é™…åº—</button>
                <button class="store-btn" data-store="ä¸‡è¾¾åº—">ä¸‡è¾¾åº—</button>
                <button class="store-btn" data-store="æ„¿æ™¯å›½é™…åº—">æ„¿æ™¯å›½é™…åº—</button>
                <button class="store-btn" data-store="æ–°å¤©åœ°åº—">æ–°å¤©åœ°åº—</button>
                <button class="store-btn" data-store="ç™½ç«¹æ¹–åº—">ç™½ç«¹æ¹–åº—</button>
                <button class="store-btn" data-store="ç½—å£é—¨åº—">ç½—å£é—¨åº—</button>
                <button class="store-btn" data-store="ä¸‡è”åº—">ä¸‡è”åº—</button>
                <button class="store-btn" data-store="ç¥é˜³çœ¼ç§‘åº—">ç¥é˜³çœ¼ç§‘åº—</button>
            </div>
            <div class="footer">
                <button class="footer-btn" id="refresh-btn">åˆ·æ–°é¡µé¢</button>
            </div>
        </div>

        <!-- è¯¦æƒ…é¡µ -->
        <div id="detail-page">
            <h1 class="detail-header" id="detail-title">é—¨åº—å®¢æˆ·ç®¡ç†ç³»ç»Ÿ</h1>
            <div class="detail-content">
                <div class="sidebar" id="sidebar">
                    <button class="toggle-sidebar-btn" id="toggle-sidebar">Â«</button>
                    <div class="sidebar-title" id="sidebar-title">åŠŸèƒ½èœå•</div>
                    <div class="sidebar-nav">
                        <button class="sidebar-btn active" data-section="add-customer">
                            <span class="icon">ğŸ“</span>
                            <span class="text">æ–°å¢å®¢æˆ·ç™»è®°</span>
                        </button>
                        <button class="sidebar-btn" data-section="follow-up">
                            <span class="icon">ğŸ“</span>
                            <span class="text">å½“æ—¥å›è®¿å®¢æˆ·</span>
                        </button>
                        <button class="sidebar-btn" data-section="review">
                            <span class="icon">ğŸ“‹</span>
                            <span class="text">å¤æŸ¥è®°å½•ç®¡ç†</span>
                        </button>
                        <button class="sidebar-btn" data-section="todo">
                            <span class="icon">âœ…</span>
                            <span class="text">å¾…åŠäº‹é¡¹</span>
                        </button>
                        <a href="index.html" class="back-to-home" target="_self">ğŸ  è¿”å›ä¸»é¡µ</a>
                        </button>
                    </div>
                </div>
                <div class="content-area">
                    <iframe id="document-frame" class="document-frame" src="about:blank"></iframe>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å­˜å‚¨å½“å‰é€‰æ‹©çš„é—¨åº—
        let currentStore = localStorage.getItem('selectedStore') || '';
        
        // Kdocsé“¾æ¥æ˜ å°„ - ä¿®å¤åçš„é“¾æ¥
        const CUSTOMER_LINKS = {
            "å¾å®¶äº•åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v1NAdNF" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v141QvA8" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/OqwUEQOC" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_w2kRPF9e/" }
            },
            "é»„å¤å±±åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v1PKC2" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v1CCE4R" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/6plLcMnU" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_O3ASj7Wz/" }
            },
            "çœ¼ç§‘è¯Šæ‰€åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v11BB51C" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v1lHuBv" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/Jt0Uzaok" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_RhugkyXw/" }
            },
            "æ—¶ä»£æ—ºè§’åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/l/cnD1vN2ewxwH" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v1UvVo4" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/F3yfrMLJ" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_WgmmTCGW/" }
            },
            "ä¸œå±±æ™¯åŒºåº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/l/cuQaE92E4JTb" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v14M4G51" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/Y3voQn8B" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_bjhMBaAh/" }
            },
            "æ˜¥å¤©å¹¿åœºåº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/l/cttPVJlz6wvX" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v12jciOV" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/04UYAPH9" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_dYwK9qr4/" }
            },
            "è‹é€šå›½é™…åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v1WnUUM" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v14NS4y2" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/kmYQlhnH" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_NQOxfDGE/" }
            },
            "ä¸‡è¾¾åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v14T9Pyw" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v15L1mS" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/jWwg9dDi" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_l9ppWcIt/" }
            },
            "æ„¿æ™¯å›½é™…åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v12vJw5z" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v121KRe3" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/QZFcAnu7" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_Zd5w1bts/" }
            },
            "æ–°å¤©åœ°åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v12zQIdM" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v11BemYj" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/qdSX43oX" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_V0WRv6cx/" }
            },
            "ä¸‡è”åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v12msbCv" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v13Rx5IH" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/blubZh3e" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_HvRRCEMr/" }
            },
            "ç½—å£é—¨åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v1RKC2L" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v130xxzy" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/npREjTc4" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_AU4dcLyW/" }
            },
            "ç™½ç«¹æ¹–åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v13UjoGr" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v11N8yOp" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/zAXn08IF" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_rrZjd8gZ/" }
            },
            "ç¥é˜³çœ¼ç§‘åº—": {
                "add-customer": { name: "æ–°å¢å®¢æˆ·ç™»è®°", url: "https://www.kdocs.cn/wo/sl/v11ozRE6" },
                "follow-up": { name: "å½“æ—¥å›è®¿å®¢æˆ·", url: "https://www.kdocs.cn/wo/sl/v1449R6E" },
                "review": { name: "å¤æŸ¥è®°å½•ç®¡ç†", url: "https://www.kdocs.cn/etapps/query/q/eQoLfNHB" },
                "todo": { name: "å¾…åŠäº‹é¡¹", url: "https://rili.wps.cn/c/g_Zd5w1bts/" }
            }
        };

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });
        
        function initializeApp() {
            setupEventListeners();
            updatePageBasedOnState();
        }
        
        function setupEventListeners() {
            // é—¨åº—é€‰æ‹©æŒ‰é’®äº‹ä»¶
            const storeButtons = document.querySelectorAll('.store-btn');
            storeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const storeName = this.getAttribute('data-store');
                    selectStore(storeName);
                });
            });
            
            // è¯¦æƒ…é¡µä¾§è¾¹æ æŒ‰é’®äº‹ä»¶
            const sidebarButtons = document.querySelectorAll('.sidebar-btn:not(#back-to-home)');
            sidebarButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    activateSection(section);
                });
            });
            
            // è¿”å›ä¸»é¡µæŒ‰é’®äº‹ä»¶
            document.getElementById('back-to-home').addEventListener('click', function() {
                showIndexPage();
            });
            
            // ä¾§è¾¹æ åˆ‡æ¢æŒ‰é’®äº‹ä»¶
            document.getElementById('toggle-sidebar').addEventListener('click', toggleSidebar);
            
            // åˆ·æ–°é¡µé¢æŒ‰é’®äº‹ä»¶
            document.getElementById('refresh-btn').addEventListener('click', function() {
                location.reload();
            });
        }
        
        function selectStore(storeName) {
            localStorage.setItem('selectedStore', storeName);
            currentStore = storeName;
            showDetailPage();
        }
        
        function showIndexPage() {
            document.getElementById('index-page').classList.add('active');
            document.getElementById('detail-page').classList.remove('active');
            document.title = 'å®¢æˆ·ç®¡ç†ç³»ç»Ÿ';
            // æ¸…é™¤å½“å‰é—¨åº—é€‰æ‹©
            currentStore = '';
            localStorage.removeItem('selectedStore');
        }
        
        function showDetailPage() {
            document.getElementById('index-page').classList.remove('active');
            document.getElementById('detail-page').classList.add('active');
            document.getElementById('detail-title').textContent = `${currentStore}å®¢æˆ·ç®¡ç†ç³»ç»Ÿ`;
            document.getElementById('sidebar-title').textContent = `${currentStore}åŠŸèƒ½èœå•`;
            document.title = `${currentStore}å®¢æˆ·ç®¡ç†ç³»ç»Ÿ`;
            
            // é»˜è®¤æ¿€æ´»ç¬¬ä¸€ä¸ªsection
            activateSection('add-customer');
        }
        
        function activateSection(section) {
            // æ›´æ–°ä¾§è¾¹æ æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.sidebar-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-section="${section}"]`).classList.add('active');
            
            // åŠ è½½å¯¹åº”æ–‡æ¡£
            loadDocument(section);
        }
        
        function loadDocument(section) {
            const frame = document.getElementById('document-frame');
            
            // è·å–å½“å‰é—¨åº—å¯¹åº”çš„æ–‡æ¡£URL
            if (currentStore && CUSTOMER_LINKS[currentStore]) {
                const docInfo = CUSTOMER_LINKS[currentStore][section];
                
                if (docInfo && docInfo.url) {
                    // æ·»åŠ æ—¶é—´æˆ³é˜²æ­¢ç¼“å­˜é—®é¢˜
                    const timestamp = new Date().getTime();
                    const urlWithTimestamp = `${docInfo.url}?t=${timestamp}`;
                    
                    // è®¾ç½®åŠ è½½çŠ¶æ€
                    frame.style.display = 'block';
                    
                    // iframeåŠ è½½é”™è¯¯å¤„ç†
                    frame.onerror = function() {
                        console.error('æ–‡æ¡£åŠ è½½å¤±è´¥:', docInfo.url);
                        showErrorPage(`æ— æ³•åŠ è½½æ–‡æ¡£: ${docInfo.name}`, docInfo.url);
                    };
                    
                    // iframeåŠ è½½å®Œæˆå¤„ç†
                    frame.onload = function() {
                        try {
                            frame.style.display = 'block';
                        } catch(e) {
                            console.error('iframeåŠ è½½å¼‚å¸¸:', e);
                        }
                    };
                    
                    // å°è¯•åŠ è½½æ–‡æ¡£
                    try {
                        frame.src = urlWithTimestamp;
                    } catch(e) {
                        console.error('åŠ è½½æ–‡æ¡£æ—¶å‡ºé”™:', e);
                        showErrorPage(`åŠ è½½æ–‡æ¡£æ—¶å‘ç”Ÿé”™è¯¯: ${e.message}`, docInfo.url);
                    }
                } else {
                    showErrorPage(`æœªæ‰¾åˆ°è¯¥åŠŸèƒ½çš„æ–‡æ¡£é“¾æ¥: ${section}`, '');
                }
            } else {
                showErrorPage('æœªæ‰¾åˆ°è¯¥é—¨åº—çš„æ–‡æ¡£é…ç½®', '');
            }
        }
        
        function showErrorPage(message, url) {
            const frame = document.getElementById('document-frame');
            frame.style.display = 'none';
            
            document.querySelector('.content-area').innerHTML = `
                <div class="error-message">
                    <h3>${message}</h3>
                    ${url ? `<p>å°è¯•åŠ è½½çš„æ–‡æ¡£é“¾æ¥: <strong>${url}</strong></p>` : ''}
                    <p>è¯·æ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§æˆ–è”ç³»ç®¡ç†å‘˜è·å–æ­£ç¡®çš„æ–‡æ¡£é“¾æ¥ã€‚</p>
                    ${url ? `<a href="${url}" target="_blank" class="link-button">å°è¯•åœ¨æ–°çª—å£æ‰“å¼€</a>` : ''}
                    <button class="footer-btn" style="margin-top: 20px;" onclick="location.reload()">åˆ·æ–°é¡µé¢</button>
                </div>
            `;
        }
        
        function updatePageBasedOnState() {
            if(currentStore) {
                showDetailPage();
            } else {
                showIndexPage();
            }
        }
        
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const toggleBtn = document.getElementById('toggle-sidebar');
            
            if(sidebar.classList.contains('collapsed')) {
                sidebar.classList.remove('collapsed');
                toggleBtn.textContent = 'Â«';
            } else {
                sidebar.classList.add('collapsed');
                toggleBtn.textContent = 'Â»';
            }
        }
        
        // ç›‘å¬çª—å£å¤§å°å˜åŒ–ï¼Œè°ƒæ•´å¸ƒå±€
        window.addEventListener('resize', function() {
            // åœ¨çª—å£å¤§å°æ”¹å˜æ—¶ä¸éœ€è¦ç‰¹æ®Šå¤„ç†ï¼ŒCSS Flexboxä¼šè‡ªåŠ¨é€‚åº”
        });
    </script>
</body>
</html>